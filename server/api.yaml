openapi: "3.0.0"
info:
  title: "Summers SNS ì„œë¹„ìŠ¤ API"
  description: >
    ì„œë¨¸ì¦ˆ SNS ì„œë¹„ìŠ¤ì˜ API í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì‘ì„±ëœ ë¬¸ì„œì…ë‹ˆë‹¤.
  version: "1.0.0"

servers:
  - url: "http://localhost:8080/api"
    description: "ê°œë°œ ì „ìš© ì„œë²„"

tags:
  - name: auth
    description: ğŸ”° ì¸ì¦ ë° ì¸ê°€ì— ê´€í•œ API
  - name: user
    description: ğŸ˜ ì‚¬ìš©ìì— ê´€í•œ API
  - name: test
    description: âš  í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ API
paths:

  /auth/credentials:
    post:
      summary: "ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ìƒì„±í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤."
      description: |+
        ì´ë©”ì¼ ë˜ëŠ” ë²ˆí˜¸ë¥¼ ì œê³µë°›ì•„ ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        ë‘˜ ì¤‘, í•œ ì •ë³´ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.
      tags:
        - auth
      requestBody:
        description: "ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìš”ì²­ ì •ë³´"
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - type: string
                - type: integer
            example:
                í° ë²ˆí˜¸ ìƒì„± ì˜ˆì‹œ:
                  phone: "01033334444"
                ì´ë©”ì¼ ìƒì„± ì˜ˆì‹œ:
                  email: "your email"
      responses:
        201:
          description: "ì •ë³´ ìƒì„± ì™„ë£Œ, ìƒì„±ëœ ì¸ì¦ ì •ë³´ì˜ idë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤."
          content:
            appplication/json:
              schema:
                type: object
                properties:
                  createdCredentialsId:
                    type: integer
                    description: "ìƒì„±ëœ ì¸ì¦ ì •ë³´ì˜ ID"
        409:
          description: |+
            ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì •ë³´ê°€ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤
            ì¸ì¦ ì½”ë“œë¥¼ ë‹¤ì‹œ í•´ë‹¹ ìœ ì € ì¸ì¦ ì •ë³´ë¡œ ë°œì†¡í•©ë‹ˆë‹¤.
          content:
            appplication/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: "ì¸ì¦ ì •ë³´ ì¬ë°œì†¡ ì •ë³´ ë©”ì‹œì§€"
        422:
          description: "ì˜ëª»ëœ í¼ ìš”ì²­ ì •ë³´"
          content:
            appplication/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /auth/sms:
    post:
      summary: "ì§€ì •ëœ ì´ë©”ì¼ ë˜ëŠ” í° ë²ˆí˜¸ë¡œ ë³´ì•ˆì½”ë“œë¥¼ ì „ì†¡í•©ë‹ˆë‹¤."
      description: |+
        ë³´ì•ˆ ì½”ë“œëŠ” 6ìë¦¬ ì…ë‹ˆë‹¤.
      tags:
        - auth
      requestBody:
        description: "í° ë˜ëŠ” ì´ë©”ì¼ ì •ë³´"
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - type: string
                - type: integer
            example:
              í° ì •ë³´ ì˜ˆì‹œ:
                phone: "01033334444"
              ì´ë©”ì¼ ì •ë³´ ì˜ˆì‹œ:
                email: "your email"
      responses:
        422:
          description: "ì˜ëª»ëœ í¼ ìš”ì²­ ì •ë³´"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        200:
          description: "ì¸ì¦ ì½”ë“œ ë°œì†¡ ì„±ê³µ"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: "ì¸ì¦ë²ˆí˜¸ ë°œì†¡ ë©”ì‹œì§€"

  /auth/sms/verify:
    post:
      summary: "ì¸ì¦ì½”ë“œë¥¼ ê²€ì‚¬í•˜ê³  ì„±ê³µ ì—¬ë¶€ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡í•©ë‹ˆë‹¤."
      description: |+
        ì¸ì¦ ì½”ë“œë¥¼ ê²€ì‚¬ í›„, ì„±ê³µ ì‹œ ë°ì´í…Œë² ì´ìŠ¤ì— ì„±ê³µ ì—¬ë¶€ë¥¼ ë“±ë¡í•˜ê³  ì„±ê³µ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
        ì‹¤íŒ¨ ì‹œ, ì‹¤íŒ¨ ì½”ë“œì™€ í•¨ê»˜ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í™¥ë‹ˆë‹¤.
      tags:
        - auth
      requestBody:
        summary: "í° ë²ˆí˜¸ í˜¹ì€ ì´ë©”ì¼ ì •ë³´ì™€ ì¸ì¦ ì½”ë“œ"
        required: true
        content:
          application/json:
            schema:
              type: object
            example:
              í° ì •ë³´ ì˜ˆì‹œ:
                phone: "01033334444"
                code: 010010
              ì´ë©”ì¼ ì •ë³´ ì˜ˆì‹œ:
                email: "your email"
                code: 010010
      responses:
        200:
          description: "ì¸ì¦ ì½”ë“œ ê²€ì‚¬ ì„±ê³µ"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: "ì¸ì¦ì½”ë“œ ê²€ì‚¬ ì„±ê³µ ë©”ì‹œì§€"
        422:
          description: "ì¸ì¦ ì •ë³´ ë˜ëŠ” ì¸ì¦ ì½”ë“œ ì •ë³´ê°€ ë“±ë¡ë˜ì–´ ìˆì§€ ì•ŠìŒ"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        400:
          description: "ì¸ì¦ì½”ë“œê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤."
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string


  /auth/login:
    post:
      summary: "ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤."
      description: |+
        ìœ ì € ì •ë³´ì™€ ë¹„ë°€ë²ˆí˜¸ ì •ë³´ë¥¼ ë°›ì•„ì„œ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        ë¡œê·¸ì¸ì— ì„±ê³µí•œë‹¤ë©´ session ì— ëŒ€í•œ cookie ê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.
      tags:
        - auth
      requestBody:
        description: "ì´ë©”ì¼ ë˜ëŠ” í° ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ ì •ë³´"
        required: true
        content:
          application/json:
            schema:
              type: object
            example:
              ë²ˆí˜¸ ì˜ˆì‹œ:
                phone: "01011112222"
                password: "password"
              ì´ë©”ì¼ ì˜ˆì‹œ:
                email: "your email"
                password: "password"
      responses:
        200:
          description: "ë¡œê·¸ì¸ ì„±ê³µ"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        401:
          description: "ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        429:
          description: "ì˜ëª»ëœ í¼ ìš”ì²­ ì •ë³´"
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string

  /test/auth/credentials:
    post:
      summary: "ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ìƒì„±í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤."
      description: |+
        ì¸ì¦ ì •ë³´ ìƒì„±ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
        âš  ê¸°ì¡´ API ì™€ ë‹¬ë¦¬ ì¸ì¦ì •ë³´ë¥¼ ë°œì†¡í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. âš 
      tags:
        - test
      requestBody:
        description: "ì‚¬ìš©ì ì¸ì¦ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ìš”ì²­ ì •ë³´"
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - type: string
                - type: integer
            example:
              í° ë²ˆí˜¸ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ:
                phone: "01033334444"
                isTest: true
              ì´ë©”ì¼ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ:
                email: "your email"
                isTest: true

      responses:
        201:
          description: "ì •ë³´ ìƒì„± ì™„ë£Œ, ìƒì„±ëœ ì¸ì¦ ì •ë³´ì˜ idë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤."
          content:
            appplication/json:
              schema:
                type: object
                properties:
                  createdCredentialsId:
                    type: integer
                    description: "ìƒì„±ëœ ì¸ì¦ ì •ë³´ì˜ ID"
        409:
          description: |+
            ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì •ë³´ê°€ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤
            ì¸ì¦ ì½”ë“œë¥¼ ë‹¤ì‹œ í•´ë‹¹ ìœ ì € ì¸ì¦ ì •ë³´ë¡œ ë°œì†¡í•©ë‹ˆë‹¤.
          content:
            appplication/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: "ì¸ì¦ ì •ë³´ ì¬ë°œì†¡ ì •ë³´ ë©”ì‹œì§€"
        422:
          description: "ì˜ëª»ëœ í¼ ìš”ì²­ ì •ë³´"
          content:
            appplication/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
